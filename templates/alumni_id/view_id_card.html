{% extends 'base.html' %}

{% block title %}Alumni ID Card - {{ alumni.first_name }} {{ alumni.last_name }}{% endblock %}

{% block content %}
<div class="row justify-content-center mb-4">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h2 class="mb-0">Alumni ID Card</h2>
                <button class="btn btn-primary" onclick="window.print()">Print ID Card</button>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="id-card-container">
            <style>
                @media screen {
                    .id-card {
                        width: 100%;
                        max-width: 600px;
                        margin: 0 auto;
                        position: relative;
                    }
                }
                @media print {
                    body * {
                        visibility: hidden;
                    }
                    .id-card, .id-card * {
                        visibility: visible;
                    }
                    .id-card {
                        width: 100%;
                        height: auto;
                        position: absolute;
                        left: 0;
                        top: 0;
                    }
                }
                .id-card-background {
                    width: 100%;
                    height: auto;
                }
                .id-card-content {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    padding: 20px;
                }
                .alumni-photo {
                    width: 150px;
                    height: 150px;
                    object-fit: cover;
                    border-radius: 5px;
                    margin-bottom: 15px;
                }
                .alumni-info {
                    text-align: center;
                    color: #000;
                    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.5);
                }
                .alumni-name {
                    font-size: 24px;
                    font-weight: bold;
                    margin-bottom: 5px;
                }
                .alumni-details {
                    font-size: 14px;
                    margin-bottom: 3px;
                }
            </style>
            <div class="id-card">
                <img src="{{ alumni.id_background.image.url }}" alt="ID Background" class="id-card-background">
                <div class="id-card-content">
                    <img src="{{ alumni.photo.url }}" alt="Alumni Photo" class="alumni-photo">
                    <div class="alumni-info">
                        <div class="alumni-name">{{ alumni.first_name }} {{ alumni.last_name }}</div>
                        <div class="alumni-details">ID: {{ alumni.school_id }}</div>
                        <div class="alumni-details">Year Graduated: {{ alumni.year_graduated }}</div>
                        {% if alumni.company %}
                        <div class="alumni-details">Company: {{ alumni.company }}</div>
                        {% endif %}
                        <div class="alumni-details">Valid from: {{ alumni.validity_start|date:"M d, Y" }}</div>
                        <div class="alumni-details">Valid until: {{ alumni.validity_end|date:"M d, Y" }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 